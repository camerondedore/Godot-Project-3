[gd_scene load_steps=12 format=3 uid="uid://dkw1hfkd0uses"]

[ext_resource type="Script" path="res://C#/MobBlackRat/MobBlackRat.cs" id="1_46qau"]
[ext_resource type="Script" path="res://C#/MobBlackRat/MobBlackRatHealth.cs" id="2_71lt1"]
[ext_resource type="PackedScene" uid="uid://b1euavai00lrc" path="res://Models/character-black-rat.glb" id="3_ikkoo"]
[ext_resource type="Script" path="res://C#/Mob Tools/MobDetection.cs" id="3_rfqt5"]
[ext_resource type="Material" uid="uid://c568qsv5du0ld" path="res://Materials/WeaponSword.tres" id="4_5s7k5"]
[ext_resource type="Script" path="res://C#/Mob Tools/MobFaction.cs" id="4_3600o"]
[ext_resource type="Script" path="res://C#/Mob Tools/MobEyes.cs" id="4_yonai"]
[ext_resource type="Material" uid="uid://jdcotr5j1875" path="res://Materials/Characters/MobBlackRatRim.tres" id="5_n14mk"]
[ext_resource type="Material" uid="uid://dgvmcdcm511j4" path="res://Materials/Characters/RatEyeGlow.tres" id="6_ib6tv"]
[ext_resource type="Material" uid="uid://blq5nnks5d07c" path="res://Materials/Characters/MobBlackRatGearRim.tres" id="7_ji3gt"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_3dud8"]
radius = 0.4

[node name="MobBlackRat" type="CharacterBody3D" node_paths=PackedStringArray("detection", "eyes", "navAgent", "health", "myFactions", "collider")]
script = ExtResource("1_46qau")
detection = NodePath("Detection")
eyes = NodePath("Eyes")
navAgent = NodePath("NavigationAgent3D")
health = NodePath("Health")
myFactions = [NodePath("Faction"), NodePath("Faction2")]
collider = NodePath("CollisionShape3D")
maxSightRangeSqr = 625.0
speed = 4.5
lookSpeed = 0.3

[node name="Health" type="Node" parent="." node_paths=PackedStringArray("rat")]
script = ExtResource("2_71lt1")
rat = NodePath("..")
hitPoints = 50.0
maxHitPoints = 50.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_3dud8")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
avoidance_enabled = true
height = 1.5
neighbor_distance = 5.0
max_neighbors = 5

[node name="character-black-rat" parent="." instance=ExtResource("3_ikkoo")]

[node name="Skeleton3D" parent="character-black-rat/character-armature" index="0"]
bones/0/position = Vector3(0.0225819, 0.085276, 0.15986)
bones/0/rotation = Quaternion(0.979083, -0.00934437, 0.0621343, 0.193518)
bones/0/scale = Vector3(1, 1, 1)
bones/1/rotation = Quaternion(0.992101, -0.0352719, -0.0649024, 0.10139)
bones/1/scale = Vector3(1, 1, 1)
bones/2/rotation = Quaternion(0.0375631, 1.15998e-08, 4.89284e-09, 0.999294)
bones/3/rotation = Quaternion(0.0452642, -1.07937e-09, 1.3636e-08, 0.998975)
bones/4/rotation = Quaternion(-0.615998, 0.104463, 0.0621899, 0.77831)
bones/5/rotation = Quaternion(-0.0644303, -3.8778e-15, 5.20358e-15, 0.997922)
bones/6/rotation = Quaternion(0.0993333, -1.1922e-07, 2.84542e-10, 0.995054)
bones/7/rotation = Quaternion(0.732827, 0.103131, -0.450328, 0.499533)
bones/8/position = Vector3(0.102855, 0.295535, -0.0750513)
bones/8/rotation = Quaternion(-7.97953e-07, -9.72213e-07, -0.707107, 0.707107)
bones/9/rotation = Quaternion(-0.1691, -8.29064e-14, -4.03165e-08, 0.985599)
bones/9/scale = Vector3(1, 1, 1)
bones/10/position = Vector3(0.0968204, 0.305978, 0.110795)
bones/10/rotation = Quaternion(0.707106, 2.66901e-08, 1.41897e-07, 0.707108)
bones/10/scale = Vector3(1, 1, 1)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(0.0993333, -1.1922e-07, 2.84542e-10, 0.995054)
bones/13/rotation = Quaternion(0.732827, -0.103131, 0.450328, 0.499533)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(-0.102855, 0.295535, -0.0750513)
bones/14/rotation = Quaternion(-9.72213e-07, 7.97952e-07, 0.707107, 0.707107)
bones/15/position = Vector3(-0.0968205, 0.305978, 0.110795)
bones/15/rotation = Quaternion(0.707106, -1.41897e-07, -2.669e-08, 0.707108)
bones/15/scale = Vector3(1, 1, 1)
bones/16/scale = Vector3(1, 1, 1)
bones/17/rotation = Quaternion(-0.577358, -0.432267, -0.34784, 0.599007)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(-0.485095, -0.555093, 0.343084, 0.582107)
bones/19/rotation = Quaternion(0.650527, 0.0136264, 0.0651445, 0.756561)
bones/20/rotation = Quaternion(0.258009, 0.669511, -0.310914, 0.623313)
bones/20/scale = Vector3(1, 1, 1)
bones/21/rotation = Quaternion(-0.565019, -0.0952566, 0.0444092, 0.818356)
bones/21/scale = Vector3(1, 1, 1)
bones/22/rotation = Quaternion(-0.656635, 0.0955871, 0.0284209, 0.747587)
bones/23/rotation = Quaternion(-0.593688, -0.0594035, 0.0271477, 0.802041)
bones/23/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(-0.704035, 0.130149, 0.0421473, 0.696864)
bones/24/scale = Vector3(1, 1, 1)
bones/25/rotation = Quaternion(-0.581285, -0.0179243, -0.00771207, 0.813466)
bones/26/rotation = Quaternion(-0.729107, 0.0885577, 0.0346626, 0.67776)
bones/26/scale = Vector3(1, 1, 1)
bones/27/rotation = Quaternion(-0.669637, 0.0139277, 0.0233766, 0.74219)
bones/27/scale = Vector3(1, 1, 1)
bones/28/rotation = Quaternion(-0.622727, 0.374656, 0.295635, 0.620035)
bones/29/rotation = Quaternion(-0.258245, 0.465127, -0.202294, 0.822219)
bones/29/scale = Vector3(1, 1, 1)
bones/30/rotation = Quaternion(0.548637, -0.0150233, -0.0549411, 0.834118)
bones/31/rotation = Quaternion(0.259179, -0.630562, 0.0194666, 0.731327)
bones/32/rotation = Quaternion(0.101736, 0.0251513, -0.0261638, 0.994149)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(-0.0652719, -0.0931154, 0.0356952, 0.992872)
bones/33/scale = Vector3(1, 1, 1)
bones/34/rotation = Quaternion(0.129891, 0.0183863, -0.0278611, 0.990966)
bones/34/scale = Vector3(1, 1, 1)
bones/35/rotation = Quaternion(-0.335542, -0.135618, 0.0179749, 0.932039)
bones/35/scale = Vector3(1, 1, 1)
bones/36/rotation = Quaternion(0.0626948, 0.0188287, -0.00554918, 0.99784)
bones/37/rotation = Quaternion(-0.398851, -0.0950362, 0.00347506, 0.912071)
bones/38/rotation = Quaternion(-0.173625, 0.0280597, 0.00247214, 0.984409)
bones/39/rotation = Quaternion(-0.198849, 0.00359745, 0.00576754, 0.980007)
bones/40/rotation = Quaternion(-0.27081, -1.78571e-08, 1.08544e-07, 0.962633)
bones/41/rotation = Quaternion(-0.255041, -9.52256e-07, 2.85058e-07, 0.96693)
bones/42/rotation = Quaternion(-0.221175, 9.23558e-07, 2.56313e-07, 0.975234)
bones/43/rotation = Quaternion(0.492515, -0.0108127, -0.172402, 0.852989)
bones/43/scale = Vector3(1, 1, 1)
bones/44/rotation = Quaternion(-0.606187, -0.0525366, 0.0484601, 0.792104)
bones/45/rotation = Quaternion(0.550015, -0.00935473, -0.0277433, 0.834642)
bones/46/rotation = Quaternion(0.485703, 0.220044, -0.0471252, 0.844661)
bones/46/scale = Vector3(1, 1, 1)
bones/47/rotation = Quaternion(0.600037, -0.0260879, 0.145963, 0.786111)
bones/48/rotation = Quaternion(-0.600897, 0.0526587, -0.0479166, 0.796149)
bones/48/scale = Vector3(1, 1, 1)
bones/49/rotation = Quaternion(0.54643, 0.00926794, 0.0277342, 0.836994)
bones/50/rotation = Quaternion(0.3649, -0.19382, 0.101126, 0.905017)
bones/50/scale = Vector3(1, 1, 1)
bones/51/rotation = Quaternion(-0.36992, -0.335747, -0.253115, 0.828472)
bones/51/scale = Vector3(1, 1, 1)
bones/52/rotation = Quaternion(0.0925098, -0.858216, 0.0551815, 0.501858)
bones/52/scale = Vector3(1, 1, 1)
bones/53/position = Vector3(0.432845, -0.954628, 0.322556)
bones/53/rotation = Quaternion(-0.695919, -0.107427, -0.125286, 0.698899)
bones/54/position = Vector3(0.349494, -0.462716, -0.269512)
bones/54/rotation = Quaternion(-0.706378, -0.0139991, -0.0320956, 0.706968)
bones/54/scale = Vector3(1, 1, 1)
bones/55/position = Vector3(0.429093, 0.0876377, -0.204312)
bones/55/rotation = Quaternion(-0.556701, -0.0586159, -0.622246, 0.547228)
bones/55/scale = Vector3(1, 1, 1)
bones/56/position = Vector3(0.455672, 0.372783, 0.173135)
bones/56/rotation = Quaternion(0.0407275, 0.704659, 0.705933, -0.0587899)
bones/56/scale = Vector3(0.999999, 1, 1)
bones/57/position = Vector3(0.463259, 0.0219944, -0.258585)
bones/57/rotation = Quaternion(-0.915396, -0.209827, 0.0497824, 0.339918)
bones/58/rotation = Quaternion(0.707107, 1.38294e-08, -1.97563e-09, 0.707107)
bones/59/position = Vector3(-0.341163, -0.954628, 0.0295805)
bones/59/rotation = Quaternion(-0.702306, 0.0642493, 0.082258, 0.704182)
bones/60/position = Vector3(-0.203752, -0.40806, -0.244161)
bones/60/rotation = Quaternion(-0.706378, 0.0139991, 0.0320956, 0.706968)
bones/60/scale = Vector3(1, 1, 1)
bones/61/position = Vector3(-0.237441, 0.0819187, -0.622009)
bones/61/rotation = Quaternion(0.652121, 0.3794, -0.199322, -0.625352)
bones/61/scale = Vector3(1, 1, 1)
bones/62/position = Vector3(-0.46548, 0.270548, -0.145302)
bones/62/rotation = Quaternion(-0.0407275, 0.704659, 0.705933, 0.0587899)
bones/62/scale = Vector3(0.999999, 1, 1)

[node name="weapon-sword" parent="character-black-rat/character-armature/Skeleton3D" index="0"]
transform = Transform3D(0.906989, -0.233789, -0.350306, 0.417994, 0.601428, 0.680856, 0.0515068, -0.763955, 0.643211, 0.463259, 0.0219943, -0.258585)

[node name="weapon-sword" parent="character-black-rat/character-armature/Skeleton3D/weapon-sword" index="0"]
surface_material_override/0 = ExtResource("4_5s7k5")

[node name="character-black-rat" parent="character-black-rat/character-armature/Skeleton3D" index="1"]
surface_material_override/0 = ExtResource("5_n14mk")
surface_material_override/1 = ExtResource("6_ib6tv")
surface_material_override/2 = ExtResource("7_ji3gt")

[node name="Detection" type="RayCast3D" parent="." node_paths=PackedStringArray("myFaction")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6, 0)
target_position = Vector3(0, 0, -1)
script = ExtResource("3_rfqt5")
myFaction = NodePath("../Faction")
pointBlankRangeSqr = 2.0

[node name="Eyes" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
target_position = Vector3(0, 0, -1)
script = ExtResource("4_yonai")

[node name="Faction" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.4, 0)
script = ExtResource("4_3600o")
faction = 2

[node name="Faction2" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
script = ExtResource("4_3600o")
faction = 2

[editable path="character-black-rat"]
