[gd_scene load_steps=12 format=3 uid="uid://dcw1cdnkklws4"]

[ext_resource type="Script" uid="uid://cdww1ncc226lk" path="res://C#/NpcSimple/NpcSimpleVoleGuard.cs" id="1_y2u53"]
[ext_resource type="PackedScene" uid="uid://b5iub7smv5k7q" path="res://Models/character-vole-guard.glb" id="2_jnlcp"]
[ext_resource type="Material" uid="uid://dnghbusj0u3co" path="res://Materials/WoodFine.tres" id="3_0rcgd"]
[ext_resource type="Material" uid="uid://bvcpecrb2yf5w" path="res://Materials/Metal.tres" id="4_1vjfm"]
[ext_resource type="Material" uid="uid://cxke31b8ufnki" path="res://Materials/Characters/CharacterVoleGuardMasked.tres" id="5_e8rbs"]
[ext_resource type="Material" uid="uid://dar4ecvixt71k" path="res://Materials/Characters/EyeRat.tres" id="6_8fo1x"]
[ext_resource type="PackedScene" uid="uid://dabnky0qnlvgu" path="res://Prefabs/CharacterFootsteps.tscn" id="7_atnvs"]
[ext_resource type="PackedScene" uid="uid://cq0tn2qmf50ap" path="res://Prefabs/CharacterWaterArea.tscn" id="8_tcht4"]
[ext_resource type="Script" uid="uid://csfcp3vr6xx8c" path="res://C#/NpcDialogue/NpcDialogue.cs" id="9_8vute"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_g30xv"]
radius = 0.4
height = 1.8

[sub_resource type="SphereShape3D" id="SphereShape3D_i8jvj"]
radius = 1.0

[node name="NpcVoleGuard" type="CharacterBody3D" node_paths=PackedStringArray("animation", "linkedObjects")]
collision_layer = 2
script = ExtResource("1_y2u53")
armorColor = Color(0.1715, 0.49, 0.378525, 1)
animation = NodePath("character-vole-guard/AnimationPlayer")
idleAnimationName = "vole-guard-idle"
talkAnimationName = "vole-guard-talk"
turnRightAnimationName = "vole-guard-turn-right"
turnLeftAnimationName = "vole-guard-turn-left"
linkedObjects = []

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_g30xv")

[node name="NavAgent" type="NavigationAgent3D" parent="."]
path_desired_distance = 0.5
target_desired_distance = 0.5
path_height_offset = -0.5
avoidance_enabled = true
height = 1.5
neighbor_distance = 5.0
max_neighbors = 5
use_3d_avoidance = true

[node name="character-vole-guard" parent="." instance=ExtResource("2_jnlcp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)

[node name="Skeleton3D" parent="character-vole-guard/character-armature" index="0"]
bones/1/position = Vector3(-0.112053, -1.09225, -0.44789)
bones/2/position = Vector3(0.00210071, -1.11296, 0.436667)
bones/3/position = Vector3(-0.436881, -0.133455, 0.118406)
bones/3/rotation = Quaternion(0.386316, 0.581351, -0.371643, 0.612105)
bones/4/position = Vector3(-0.13821, -0.889227, -1.03448e-08)
bones/4/rotation = Quaternion(-0.017431, 0.687159, 0.0405476, 0.725165)
bones/5/rotation = Quaternion(0.996728, -0.00580705, -0.0186251, 0.0784392)
bones/6/rotation = Quaternion(-0.0510775, -2.36696e-09, -2.21124e-08, 0.998695)
bones/7/rotation = Quaternion(-0.119238, 1.36588e-09, -1.87763e-08, 0.992866)
bones/8/rotation = Quaternion(-0.558125, -0.00946129, -0.0240767, 0.829354)
bones/9/position = Vector3(1.17558e-08, 0.132219, -0.0532135)
bones/9/rotation = Quaternion(-0.0632832, 4.57343e-10, -1.52335e-08, 0.997996)
bones/10/rotation = Quaternion(0.0972718, -0.0109496, 0.0161493, 0.995067)
bones/12/position = Vector3(0.0671795, 0.333172, -0.0829993)
bones/15/scale = Vector3(1, 1, 1)
bones/16/rotation = Quaternion(0.0972718, -0.0109496, 0.0161493, 0.995067)
bones/18/position = Vector3(-0.0671795, 0.333172, -0.0829993)
bones/21/rotation = Quaternion(-0.61856, -0.393523, -0.315679, 0.602387)
bones/22/rotation = Quaternion(-0.327462, -0.42736, 0.463277, 0.703922)
bones/23/rotation = Quaternion(0.531214, -0.00458534, 0.0361452, 0.846454)
bones/24/rotation = Quaternion(-0.0453032, 0.484754, -0.0433173, 0.872402)
bones/25/rotation = Quaternion(-0.461475, -0.0339894, 0.00425382, 0.886492)
bones/26/rotation = Quaternion(-0.682182, 0.094853, 0.0320878, 0.724294)
bones/27/rotation = Quaternion(-0.57645, -0.0304808, 0.00436387, 0.816552)
bones/28/rotation = Quaternion(-0.653868, 0.132999, 0.0333512, 0.74408)
bones/29/rotation = Quaternion(-0.556215, -0.016103, -0.0105008, 0.830816)
bones/30/rotation = Quaternion(-0.681113, 0.0907272, 0.0285762, 0.725973)
bones/31/rotation = Quaternion(-0.470036, -0.0240849, -0.0146405, 0.882197)
bones/32/rotation = Quaternion(-0.620346, 0.352818, 0.168425, 0.679944)
bones/33/rotation = Quaternion(-0.382412, 0.295252, -0.228428, 0.845227)
bones/34/rotation = Quaternion(0.832577, 0.00298483, -0.0566507, 0.550997)
bones/35/rotation = Quaternion(0.0199732, -0.99191, 0.0923469, 0.0847841)
bones/36/rotation = Quaternion(-0.461475, 0.0339895, -0.00425382, 0.886492)
bones/37/rotation = Quaternion(-0.621075, -0.0971466, -0.0242746, 0.777328)
bones/38/rotation = Quaternion(-0.57645, 0.0304809, -0.00436384, 0.816552)
bones/39/rotation = Quaternion(-0.591247, -0.135269, -0.0224344, 0.794749)
bones/40/rotation = Quaternion(-0.556215, 0.0161031, 0.0105009, 0.830816)
bones/41/rotation = Quaternion(-0.619874, -0.0927491, -0.0211099, 0.778915)
bones/42/rotation = Quaternion(-0.470036, 0.024085, 0.0146405, 0.882197)
bones/43/rotation = Quaternion(-0.246349, -0.00225837, -0.00138621, 0.969178)
bones/44/rotation = Quaternion(-0.246683, -0.00156599, -0.00144821, 0.969094)
bones/45/rotation = Quaternion(-0.336107, -0.000745315, -0.00131141, 0.941823)
bones/46/rotation = Quaternion(-0.143959, -0.000119381, -0.000773253, 0.989583)
bones/47/rotation = Quaternion(0.42573, 0.142351, 0.000485559, 0.893583)
bones/48/rotation = Quaternion(-0.431137, -0.0501093, 0.00517099, 0.900879)
bones/49/rotation = Quaternion(0.568947, -0.0175257, -0.0100572, 0.822126)
bones/50/rotation = Quaternion(0.340106, -0.0238214, 0.0293401, 0.939628)
bones/51/rotation = Quaternion(0.0210348, -0.0255797, -0.00881308, 0.999413)
bones/52/rotation = Quaternion(-0.608135, 0.0500192, -0.0162608, 0.79209)
bones/53/rotation = Quaternion(0.70559, 0.020912, 0.00453941, 0.708297)
bones/54/rotation = Quaternion(0.438626, 0.00869241, 0.0426547, 0.897615)
bones/55/position = Vector3(0.26278, -0.045372, -0.118406)
bones/55/rotation = Quaternion(0.555448, 0.451961, -0.558953, 0.418067)
bones/56/position = Vector3(0.241223, -0.437039, -0.154127)
bones/57/position = Vector3(0.241223, -0.437039, 0.154127)
bones/58/position = Vector3(0.355422, -1.10993, -0.0862933)
bones/58/rotation = Quaternion(0.882877, -0.0104978, -0.173379, 0.436299)
bones/60/position = Vector3(0.242204, 0.0551047, -0.298268)
bones/60/rotation = Quaternion(-0.847532, 0.2739, -0.193373, 0.411431)
bones/61/position = Vector3(-0.240962, 0.288848, -0.356759)
bones/61/rotation = Quaternion(0.321713, 0.797418, -0.494269, -0.127763)

[node name="weapon-spear" parent="character-vole-guard/character-armature/Skeleton3D" index="0"]
transform = Transform3D(0.296985, -0.774037, 0.559165, 0.169827, 0.619066, 0.766757, -0.939659, -0.132754, 0.315306, 0.0862934, 0.109935, -0.355422)

[node name="weapon-spear" parent="character-vole-guard/character-armature/Skeleton3D/weapon-spear" index="0"]
layers = 2
gi_mode = 2
surface_material_override/0 = ExtResource("3_0rcgd")
surface_material_override/1 = ExtResource("4_1vjfm")

[node name="character-vole-guard" parent="character-vole-guard/character-armature/Skeleton3D" index="1"]
layers = 2
gi_mode = 2
surface_material_override/0 = ExtResource("5_e8rbs")
surface_material_override/1 = ExtResource("6_8fo1x")

[node name="AnimationPlayer" parent="character-vole-guard" index="1"]
playback_default_blend_time = 0.1

[node name="CharacterFootsteps" parent="." instance=ExtResource("7_atnvs")]

[node name="CharacterWaterArea" parent="." instance=ExtResource("8_tcht4")]
depthOffset = -0.9
maxDepth = 0.9

[node name="Dialogue" type="AudioStreamPlayer3D" parent="."]
unit_size = 20.0
max_distance = 50.0
attenuation_filter_cutoff_hz = 20500.0
script = ExtResource("9_8vute")

[node name="TriggerArea" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 128
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="TriggerArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.96046e-08, 0)
shape = SubResource("SphereShape3D_i8jvj")

[editable path="character-vole-guard"]
